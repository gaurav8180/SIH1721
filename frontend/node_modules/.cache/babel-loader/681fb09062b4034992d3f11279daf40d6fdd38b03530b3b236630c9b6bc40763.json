{"ast":null,"code":"var _jsxFileName = \"/home/gaurav/Desktop/SIH/doping-drug-recognition/frontend/src/components/UploadSection.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { Box, Typography, Button, Alert, CircularProgress } from '@mui/material';\nimport { CloudUpload as CloudUploadIcon } from '@mui/icons-material';\nimport { useDropzone } from 'react-dropzone';\nimport { validateFile } from '../utils/fileValidation';\nimport { uploadImage } from '../services/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst UploadSection = ({\n  onUploadSuccess\n}) => {\n  _s();\n  const [error, setError] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const handleFileUpload = async acceptedFiles => {\n    const file = acceptedFiles[0];\n    const validation = validateFile(file);\n    if (!validation.valid) {\n      setError(validation.error);\n      return;\n    }\n    setLoading(true);\n    setError(null);\n    try {\n      const result = await uploadImage(file);\n      onUploadSuccess(result);\n    } catch (uploadError) {\n      setError(uploadError.message || 'Upload failed');\n    } finally {\n      setLoading(false);\n    }\n  };\n  const {\n    getRootProps,\n    getInputProps,\n    isDragActive\n  } = useDropzone({\n    onDrop: handleFileUpload,\n    accept: {\n      'image/jpeg': ['.jpeg', '.jpg'],\n      'image/png': ['.png'],\n      'image/gif': ['.gif']\n    },\n    maxSize: 5 * 1024 * 1024 // 5MB\n  });\n  return /*#__PURE__*/_jsxDEV(Box, {\n    sx: {\n      display: 'flex',\n      flexDirection: 'column',\n      alignItems: 'center',\n      p: 4,\n      border: '2px dashed',\n      borderColor: isDragActive ? 'primary.main' : 'grey.300',\n      borderRadius: 2,\n      textAlign: 'center',\n      cursor: 'pointer',\n      transition: 'all 0.3s ease'\n    },\n    ...getRootProps(),\n    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n      ...getInputProps()\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(CloudUploadIcon, {\n      sx: {\n        fontSize: 80,\n        color: isDragActive ? 'primary.main' : 'grey.500',\n        mb: 2\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h6\",\n      gutterBottom: true,\n      children: isDragActive ? 'Drop your image here' : 'Drag and drop an image or click to select'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"body2\",\n      color: \"textSecondary\",\n      children: \"Supports JPEG, PNG, and GIF (Max 5MB)\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }, this), loading && /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        mt: 2\n      },\n      children: /*#__PURE__*/_jsxDEV(CircularProgress, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 9\n    }, this), error && /*#__PURE__*/_jsxDEV(Alert, {\n      severity: \"error\",\n      sx: {\n        mt: 2,\n        width: '100%'\n      },\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 5\n  }, this);\n};\n_s(UploadSection, \"NIiGjD29LDhzygyMccwbLuFPx+g=\", false, function () {\n  return [useDropzone];\n});\n_c = UploadSection;\nexport default UploadSection;\nvar _c;\n$RefreshReg$(_c, \"UploadSection\");","map":{"version":3,"names":["React","useState","Box","Typography","Button","Alert","CircularProgress","CloudUpload","CloudUploadIcon","useDropzone","validateFile","uploadImage","jsxDEV","_jsxDEV","UploadSection","onUploadSuccess","_s","error","setError","loading","setLoading","handleFileUpload","acceptedFiles","file","validation","valid","result","uploadError","message","getRootProps","getInputProps","isDragActive","onDrop","accept","maxSize","sx","display","flexDirection","alignItems","p","border","borderColor","borderRadius","textAlign","cursor","transition","children","fileName","_jsxFileName","lineNumber","columnNumber","fontSize","color","mb","variant","gutterBottom","mt","severity","width","_c","$RefreshReg$"],"sources":["/home/gaurav/Desktop/SIH/doping-drug-recognition/frontend/src/components/UploadSection.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { \n  Box, \n  Typography, \n  Button, \n  Alert, \n  CircularProgress \n} from '@mui/material';\nimport { CloudUpload as CloudUploadIcon } from '@mui/icons-material';\nimport { useDropzone } from 'react-dropzone';\nimport { validateFile } from '../utils/fileValidation';\nimport { uploadImage } from '../services/api';\n\nconst UploadSection = ({ onUploadSuccess }) => {\n  const [error, setError] = useState(null);\n  const [loading, setLoading] = useState(false);\n\n  const handleFileUpload = async (acceptedFiles) => {\n    const file = acceptedFiles[0];\n    const validation = validateFile(file);\n\n    if (!validation.valid) {\n      setError(validation.error);\n      return;\n    }\n\n    setLoading(true);\n    setError(null);\n\n    try {\n      const result = await uploadImage(file);\n      onUploadSuccess(result);\n    } catch (uploadError) {\n      setError(uploadError.message || 'Upload failed');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const { getRootProps, getInputProps, isDragActive } = useDropzone({\n    onDrop: handleFileUpload,\n    accept: {\n      'image/jpeg': ['.jpeg', '.jpg'],\n      'image/png': ['.png'],\n      'image/gif': ['.gif']\n    },\n    maxSize: 5 * 1024 * 1024 // 5MB\n  });\n\n  return (\n    <Box \n      sx={{\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n        p: 4,\n        border: '2px dashed',\n        borderColor: isDragActive ? 'primary.main' : 'grey.300',\n        borderRadius: 2,\n        textAlign: 'center',\n        cursor: 'pointer',\n        transition: 'all 0.3s ease'\n      }}\n      {...getRootProps()}\n    >\n      <input {...getInputProps()} />\n      <CloudUploadIcon \n        sx={{ \n          fontSize: 80, \n          color: isDragActive ? 'primary.main' : 'grey.500',\n          mb: 2 \n        }} \n      />\n      <Typography variant=\"h6\" gutterBottom>\n        {isDragActive \n          ? 'Drop your image here' \n          : 'Drag and drop an image or click to select'}\n      </Typography>\n      <Typography variant=\"body2\" color=\"textSecondary\">\n        Supports JPEG, PNG, and GIF (Max 5MB)\n      </Typography>\n\n      {loading && (\n        <Box sx={{ mt: 2 }}>\n          <CircularProgress />\n        </Box>\n      )}\n\n      {error && (\n        <Alert \n          severity=\"error\" \n          sx={{ mt: 2, width: '100%' }}\n        >\n          {error}\n        </Alert>\n      )}\n    </Box>\n  );\n};\n\nexport default UploadSection;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}