{"ast":null,"code":"var _jsxFileName = \"/home/gaurav/Desktop/SIH/doping-drug-recognition/frontend/src/components/UploadSection.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { Box, Typography, Button, Alert, CircularProgress, Paper } from '@mui/material';\nimport { CloudUpload as CloudUploadIcon } from '@mui/icons-material';\nimport { useDropzone } from 'react-dropzone';\nimport { validateFile } from '../utils/fileValidation';\nimport { uploadImage } from '../services/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst UploadSection = ({\n  onUploadSuccess\n}) => {\n  _s();\n  const [error, setError] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const handleFileUpload = async acceptedFiles => {\n    const file = acceptedFiles[0];\n    const validation = validateFile(file);\n    if (!validation.valid) {\n      setError(validation.error);\n      return;\n    }\n    setLoading(true);\n    setError(null);\n    try {\n      const result = await uploadImage(file);\n      onUploadSuccess(result);\n    } catch (uploadError) {\n      setError(uploadError.message || 'Upload failed');\n    } finally {\n      setLoading(false);\n    }\n  };\n  const {\n    getRootProps,\n    getInputProps,\n    isDragActive\n  } = useDropzone({\n    onDrop: handleFileUpload,\n    accept: {\n      'image/jpeg': ['.jpeg', '.jpg'],\n      'image/png': ['.png'],\n      'image/gif': ['.gif']\n    },\n    maxSize: 5 * 1024 * 1024 // 5MB\n  });\n  return /*#__PURE__*/_jsxDEV(Paper, {\n    elevation: 3,\n    sx: {\n      display: 'flex',\n      flexDirection: 'column',\n      alignItems: 'center',\n      p: 4,\n      border: '2px dashed',\n      borderColor: isDragActive ? 'primary.main' : 'grey.700',\n      borderRadius: 2,\n      textAlign: 'center',\n      cursor: 'pointer',\n      transition: 'all 0.3s ease',\n      backgroundColor: 'background.paper'\n    },\n    ...getRootProps(),\n    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n      ...getInputProps()\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(CloudUploadIcon, {\n      sx: {\n        fontSize: 80,\n        color: isDragActive ? 'primary.main' : 'grey.500',\n        mb: 2,\n        transition: 'color 0.3s ease'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h6\",\n      gutterBottom: true,\n      color: \"textPrimary\",\n      children: isDragActive ? 'Drop your image here' : 'Drag and drop an image or click to select'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"body2\",\n      color: \"textSecondary\",\n      children: \"Supports JPEG, PNG, and GIF (Max 5MB)\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }, this), loading && /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        mt: 2\n      },\n      children: /*#__PURE__*/_jsxDEV(CircularProgress, {\n        color: \"primary\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 9\n    }, this), error && /*#__PURE__*/_jsxDEV(Alert, {\n      severity: \"error\",\n      sx: {\n        mt: 2,\n        width: '100%',\n        backgroundColor: 'rgba(211, 47, 47, 0.1)',\n        color: 'error.main'\n      },\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 5\n  }, this);\n};\n_s(UploadSection, \"NIiGjD29LDhzygyMccwbLuFPx+g=\", false, function () {\n  return [useDropzone];\n});\n_c = UploadSection;\nexport default UploadSection;\nvar _c;\n$RefreshReg$(_c, \"UploadSection\");","map":{"version":3,"names":["React","useState","Box","Typography","Button","Alert","CircularProgress","Paper","CloudUpload","CloudUploadIcon","useDropzone","validateFile","uploadImage","jsxDEV","_jsxDEV","UploadSection","onUploadSuccess","_s","error","setError","loading","setLoading","handleFileUpload","acceptedFiles","file","validation","valid","result","uploadError","message","getRootProps","getInputProps","isDragActive","onDrop","accept","maxSize","elevation","sx","display","flexDirection","alignItems","p","border","borderColor","borderRadius","textAlign","cursor","transition","backgroundColor","children","fileName","_jsxFileName","lineNumber","columnNumber","fontSize","color","mb","variant","gutterBottom","mt","severity","width","_c","$RefreshReg$"],"sources":["/home/gaurav/Desktop/SIH/doping-drug-recognition/frontend/src/components/UploadSection.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { \n  Box, \n  Typography, \n  Button, \n  Alert, \n  CircularProgress,\n  Paper\n} from '@mui/material';\nimport { CloudUpload as CloudUploadIcon } from '@mui/icons-material';\nimport { useDropzone } from 'react-dropzone';\nimport { validateFile } from '../utils/fileValidation';\nimport { uploadImage } from '../services/api';\n\nconst UploadSection = ({ onUploadSuccess }) => {\n  const [error, setError] = useState(null);\n  const [loading, setLoading] = useState(false);\n\n  const handleFileUpload = async (acceptedFiles) => {\n    const file = acceptedFiles[0];\n    const validation = validateFile(file);\n\n    if (!validation.valid) {\n      setError(validation.error);\n      return;\n    }\n\n    setLoading(true);\n    setError(null);\n\n    try {\n      const result = await uploadImage(file);\n      onUploadSuccess(result);\n    } catch (uploadError) {\n      setError(uploadError.message || 'Upload failed');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const { getRootProps, getInputProps, isDragActive } = useDropzone({\n    onDrop: handleFileUpload,\n    accept: {\n      'image/jpeg': ['.jpeg', '.jpg'],\n      'image/png': ['.png'],\n      'image/gif': ['.gif']\n    },\n    maxSize: 5 * 1024 * 1024 // 5MB\n  });\n\n  return (\n    <Paper \n      elevation={3}\n      sx={{\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n        p: 4,\n        border: '2px dashed',\n        borderColor: isDragActive ? 'primary.main' : 'grey.700',\n        borderRadius: 2,\n        textAlign: 'center',\n        cursor: 'pointer',\n        transition: 'all 0.3s ease',\n        backgroundColor: 'background.paper'\n      }}\n      {...getRootProps()}\n    >\n      <input {...getInputProps()} />\n      <CloudUploadIcon \n        sx={{ \n          fontSize: 80, \n          color: isDragActive ? 'primary.main' : 'grey.500',\n          mb: 2,\n          transition: 'color 0.3s ease'\n        }} \n      />\n      <Typography variant=\"h6\" gutterBottom color=\"textPrimary\">\n        {isDragActive \n          ? 'Drop your image here' \n          : 'Drag and drop an image or click to select'}\n      </Typography>\n      <Typography variant=\"body2\" color=\"textSecondary\">\n        Supports JPEG, PNG, and GIF (Max 5MB)\n      </Typography>\n\n      {loading && (\n        <Box sx={{ mt: 2 }}>\n          <CircularProgress color=\"primary\" />\n        </Box>\n      )}\n\n      {error && (\n        <Alert \n          severity=\"error\" \n          sx={{ \n            mt: 2, \n            width: '100%',\n            backgroundColor: 'rgba(211, 47, 47, 0.1)',\n            color: 'error.main'\n          }}\n        >\n          {error}\n        </Alert>\n      )}\n    </Paper>\n  );\n};\n\nexport default UploadSection;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}